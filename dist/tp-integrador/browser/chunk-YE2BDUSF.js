import{a as F,b as u,c as R,d as T,g as M,k as A,l as N,n as P,o as q,p as I}from"./chunk-W7JGNRDW.js";import{c as E}from"./chunk-3S2HVIT3.js";import"./chunk-RUSIH3UO.js";import{b as k}from"./chunk-UMWSO6KU.js";import"./chunk-LJ5XHLMQ.js";import{h as y,j as S}from"./chunk-H3MYTDDY.js";import{Ba as h,Fa as d,La as c,Oa as s,Q as x,Sa as r,Ta as n,Ua as m,Wa as _,Xa as p,Y as C,Ya as i,Z as w,Za as v,sa as l,xa as f}from"./chunk-WRNNQS3D.js";import{h as b}from"./chunk-FK42CRUA.js";function V(e,t){return o=>{let a=o.get(e)?.value,g=o.get(t)?.value;return a===g?null:{passwordMismatch:!0}}}function L(e,t){if(e&1&&(r(0,"div",18)(1,"div",19),C(),r(2,"svg",20),m(3,"path",21),n()(),w(),r(4,"div",22),i(5),n()()),e&2){let o=p();l(5),v(o.toastMessage)}}function z(e,t){e&1&&(r(0,"p"),i(1,"\u26A0\uFE0F Campo requerido"),n())}function D(e,t){e&1&&(r(0,"p"),i(1,"\u26A0\uFE0F Email no valido"),n())}function j(e,t){if(e&1&&(r(0,"div",9),d(1,z,2,0,"p")(2,D,2,0,"p"),n()),e&2){let o=p();l(),s(o.emailControl.errors!=null&&o.emailControl.errors.required?1:-1),l(),s(o.emailControl.errors!=null&&o.emailControl.errors.email?2:-1)}}function B(e,t){e&1&&(r(0,"p"),i(1,"\u26A0\uFE0F Campo requerido"),n())}function U(e,t){e&1&&(r(0,"p"),i(1,"\u26A0\uFE0F La contrase\xF1a debe tener al menos 6 caracteres"),n())}function H(e,t){if(e&1&&(r(0,"div",9),d(1,B,2,0,"p")(2,U,2,0,"p"),n()),e&2){let o=p();l(),s(o.passwordControl.errors!=null&&o.passwordControl.errors.required?1:-1),l(),s(o.passwordControl.errors!=null&&o.passwordControl.errors.minlength?2:-1)}}function O(e,t){e&1&&(r(0,"p"),i(1,"Campo requerido"),n())}function J(e,t){if(e&1&&(r(0,"div",9),d(1,O,2,0,"p"),n()),e&2){let o=p();l(),s(o.confirmPasswordControl.errors!=null&&o.confirmPasswordControl.errors.required?1:-1)}}function K(e,t){e&1&&(r(0,"div",9)(1,"p"),i(2,"\u274C Las contrase\xF1as no coinciden."),n()())}var G=class e{constructor(t,o){this.router=t;this.fb=o}_authService=x(k);form;toastMessage=null;ngOnInit(){this.form=this.fb.group({email:["",[u.required,u.email]],password:["",[u.required,u.minLength(6)]],confirmPassword:["",u.required]},{validators:V("password","confirmPassword")})}get emailControl(){return this.form.get("email")}get passwordControl(){return this.form.get("password")}get confirmPasswordControl(){return this.form.get("confirmPassword")}goTo(t){this.router.navigate([t])}submit(){return b(this,null,function*(){if(this.form.invalid){this.form.markAllAsTouched();return}try{let t=yield this._authService.signUp({email:this.emailControl.value??"",password:this.passwordControl.value??""});if(t.error)throw t.error;console.log("Datos"+t.data.session),this.goTo("/login")}catch(t){t.message.includes("User already registered")&&this.showToast("El usuario ya est\xE1 registrado."),console.log("Error"+t)}})}showToast(t){this.toastMessage=t,setTimeout(()=>{this.toastMessage=null},3e3)}static \u0275fac=function(o){return new(o||e)(f(E),f(P))};static \u0275cmp=h({type:e,selectors:[["app-register"]],decls:31,vars:7,consts:[[1,"mt-3"],[1,"text-center","text-4xl"],[1,"text-center","text-2xl","text-gray-500"],["id","toast-danger","class","flex items-center w-full max-w-xs p-4 mb-4 text-gray-500 bg-red-100 rounded-lg shadow absolute","role","alert",4,"ngIf"],[1,"p-2.5"],[1,"max-w-md","mx-auto",3,"ngSubmit","formGroup"],[1,"relative","z-0","w-full","mb-5","group"],["type","email","name","floating_email","id","floating_email","placeholder"," ","formControlName","email",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","dark:text-white","dark:border-gray-600","dark:focus:border-blue-500","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["for","floating_email",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","dark:text-gray-400","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","rtl:peer-focus:left-auto","peer-focus:text-blue-600","peer-focus:dark:text-blue-500","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],[1,"text-red-500","text-sm","mt-1"],["type","password","name","floating_password","id","floating_password","placeholder"," ","formControlName","password",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","dark:text-white","dark:border-gray-600","dark:focus:border-blue-500","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["for","floating_password",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","dark:text-gray-400","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","peer-focus:text-blue-600","peer-focus:dark:text-blue-500","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["type","password","name","repeat_password","id","floating_repeat_password","placeholder"," ","formControlName","confirmPassword",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","dark:text-white","dark:border-gray-600","dark:focus:border-blue-500","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["for","floating_repeat_password",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","dark:text-gray-400","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","peer-focus:text-blue-600","peer-focus:dark:text-blue-500","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],["type","text","name","floating_username","id","floating_username","placeholder"," ","required","",1,"block","py-2.5","px-0","w-full","text-sm","text-gray-900","bg-transparent","border-0","border-b-2","border-gray-300","appearance-none","dark:text-white","dark:border-gray-600","dark:focus:border-blue-500","focus:outline-none","focus:ring-0","focus:border-blue-600","peer"],["for","floating_first_name",1,"peer-focus:font-medium","absolute","text-sm","text-gray-500","dark:text-gray-400","duration-300","transform","-translate-y-6","scale-75","top-3","-z-10","origin-[0]","peer-focus:start-0","rtl:peer-focus:translate-x-1/4","peer-focus:text-blue-600","peer-focus:dark:text-blue-500","peer-placeholder-shown:scale-100","peer-placeholder-shown:translate-y-0","peer-focus:scale-75","peer-focus:-translate-y-6"],[1,"flex","justify-center","items-center"],["type","submit",1,"text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","w-full","sm:w-auto","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800","disabled:bg-red-600","disabled:cursor-not-allowed",3,"disabled"],["id","toast-danger","role","alert",1,"flex","items-center","w-full","max-w-xs","p-4","mb-4","text-gray-500","bg-red-100","rounded-lg","shadow","absolute"],[1,"inline-flex","items-center","justify-center","flex-shrink-0","w-8","h-8","text-red-500","bg-red-200","rounded-lg"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm-.707-5.293a1 1 0 011.414 0L12 14.586l1.293-1.293a1 1 0 111.414 1.414L13.414 16l1.293 1.293a1 1 0 01-1.414 1.414L12 17.414l-1.293 1.293a1 1 0 01-1.414-1.414L10.586 16l-1.293-1.293a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"ml-3","text-sm","font-normal"]],template:function(o,a){o&1&&(r(0,"section",0)(1,"h1",1),i(2,"\xA1Bienvenido!"),n(),r(3,"h2",2),i(4," Ingrese sus datos para continuar "),n()(),d(5,L,6,1,"div",3),r(6,"div",4)(7,"form",5),_("ngSubmit",function(){return a.submit()}),r(8,"div",6),m(9,"input",7),r(10,"label",8),i(11,"Correo electronico"),n(),d(12,j,3,2,"div",9),n(),r(13,"div",6),m(14,"input",10),r(15,"label",11),i(16,"Contrase\xF1a"),n()(),d(17,H,3,2,"div",9),r(18,"div",6),m(19,"input",12),r(20,"label",13),i(21,"Confirmar contrase\xF1a"),n()(),d(22,J,2,1,"div",9)(23,K,3,0,"div",9),r(24,"div",6),m(25,"input",14),r(26,"label",15),i(27,"Nombre de usuario"),n()(),r(28,"div",16)(29,"button",17),i(30," REGISTRARSE "),n()()()()),o&2&&(l(5),c("ngIf",a.toastMessage),l(2),c("formGroup",a.form),l(5),s(a.emailControl.invalid&&a.emailControl.touched?12:-1),l(5),s(a.passwordControl.invalid&&a.passwordControl.touched?17:-1),l(5),s(a.confirmPasswordControl.invalid&&a.confirmPasswordControl.touched?22:-1),l(),s(a.form.touched&&(a.form.errors!=null&&a.form.errors.passwordMismatch)?23:-1),l(6),c("disabled",a.form.invalid))},dependencies:[I,M,F,R,T,A,N,q,S,y],encapsulation:2})};export{G as RegisterComponent};
