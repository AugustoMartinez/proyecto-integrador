import{g as C,i as E,j as O}from"./chunk-H3MYTDDY.js";import{$a as x,Ba as f,Fa as p,La as d,Sa as o,Ta as r,Ua as _,Va as b,W as u,Wa as g,X as h,Xa as c,Ya as l,Za as S,_a as v,sa as m}from"./chunk-WRNNQS3D.js";import"./chunk-FK42CRUA.js";function F(s,n){if(s&1){let e=b();o(0,"div",5),g("click",function(){let i=u(e).index,a=c().index,T=c();return h(T.handleClick(i,a))}),r()}if(s&2){let e=n.index,t=c().index,i=c();d("ngStyle",i.getCellStyle(e,t))}}function M(s,n){if(s&1&&(o(0,"div"),p(1,F,1,1,"div",4),r()),s&2){let e=n.$implicit;m(),d("ngForOf",e)}}var y=class s{gridSize=10;grid=[];treasureX=0;treasureY=0;attempts=0;maxAttempts=25;gameOver=!1;message="";bestScore=Number(localStorage.getItem("bestScore"))||null;ngOnInit(){this.startGame()}startGame(){this.grid=Array.from({length:this.gridSize},()=>Array(this.gridSize).fill("")),this.treasureX=Math.floor(Math.random()*this.gridSize),this.treasureY=Math.floor(Math.random()*this.gridSize),this.attempts=0,this.gameOver=!1,this.message=""}handleClick(n,e){if(this.gameOver||this.grid[e][n])return;this.attempts++;let t=Math.sqrt(Math.pow(n-this.treasureX,2)+Math.pow(e-this.treasureY,2)),i="",a="";if(n===this.treasureX&&e===this.treasureY){i="\u{1F389} \xA1Tesoro encontrado!",a="gold",this.grid[e][n]=a,this.message=i,this.gameOver=!0,(!this.bestScore||this.attempts<this.bestScore)&&(localStorage.setItem("bestScore",this.attempts.toString()),this.bestScore=this.attempts);return}t<1.5?(i="\u{1F525} Ardiendo",a="red"):t<3?(i="\u{1F321}\uFE0F Caliente",a="orange"):(i="\u2744\uFE0F Fr\xEDo",a="blue"),this.grid[e][n]=a,this.message=i,this.attempts>=this.maxAttempts&&(this.gameOver=!0,this.message="\u{1F480} \xA1Te quedaste sin intentos!")}getCellStyle(n,e){let t=this.grid[e][n];return{"background-color":t||"#ccc",border:"1px solid #999",width:"40px",height:"40px",display:"inline-block",cursor:this.gameOver||t?"not-allowed":"pointer"}}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=f({type:s,selectors:[["app-encuentra-tesoro"]],decls:16,vars:5,consts:[[2,"margin-top","1rem"],[4,"ngFor","ngForOf"],[2,"margin-top","1rem","font-weight","bold"],[2,"margin-top","1rem",3,"click"],[3,"ngStyle","click",4,"ngFor","ngForOf"],[3,"click","ngStyle"]],template:function(e,t){e&1&&(o(0,"h2"),l(1,"Encuentra el Tesoro \u{1F3F4}\u200D\u2620\uFE0F"),r(),o(2,"div")(3,"strong"),l(4,"Intentos:"),r(),l(5),_(6,"br"),o(7,"strong"),l(8,"Mejor puntuaci\xF3n:"),r(),l(9),r(),o(10,"div",0),p(11,M,2,1,"div",1),r(),o(12,"p",2),l(13),r(),o(14,"button",3),g("click",function(){return t.startGame()}),l(15,"Reiniciar"),r()),e&2&&(m(5),x(" ",t.attempts," / ",t.maxAttempts," "),m(4),v(" ",t.bestScore||"\u2014",`
`),m(2),d("ngForOf",t.grid),m(2),S(t.message))},dependencies:[O,C,E],styles:["div[_ngcontent-%COMP%]{font-family:sans-serif}button[_ngcontent-%COMP%]{padding:8px 12px;font-weight:700;background-color:#007bff;color:#fff;border:none;border-radius:5px}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})};export{y as EncuentraTesoroComponent};
